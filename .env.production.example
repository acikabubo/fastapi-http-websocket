# Production Environment Configuration
# Copy this file to .env for production deployment
# Update ALL CHANGE_ME values before deployment
# CRITICAL: Review all settings before going live

# ============================================
# ENVIRONMENT
# ============================================
ENV=production

# ============================================
# DATABASE CONFIGURATION
# ============================================
DB_USER=prod_user
DB_PASSWORD=CHANGE_ME  # Generate with: openssl rand -base64 32
DB_HOST=hw-db
DB_PORT=5432
DB_NAME=hwdb_prod

# ============================================
# REDIS CONFIGURATION
# ============================================
REDIS_IP=hw-redis
REDIS_PORT=6379
# REDIS_PASSWORD=CHANGE_ME  # REQUIRED: Enable Redis auth in production

# ============================================
# KEYCLOAK CONFIGURATION
# ============================================
KEYCLOAK_REALM=production
KEYCLOAK_CLIENT_ID=fastapi-app
KEYCLOAK_CLIENT_SECRET=CHANGE_ME  # Get from Keycloak admin
KEYCLOAK_BASE_URL=https://auth.example.com
KEYCLOAK_ADMIN_USERNAME=admin
KEYCLOAK_ADMIN_PASSWORD=CHANGE_ME

# ============================================
# SECURITY
# ============================================
# CRITICAL: DEBUG_AUTH is automatically disabled in production
# DEBUG_AUTH=false  # Enforced by environment validator
ALLOWED_HOSTS=["api.example.com"]
# SECRET_KEY=CHANGE_ME  # Generate with: openssl rand -hex 32

# ============================================
# LOGGING (Production defaults)
# ============================================
# LOG_LEVEL=WARNING  # Minimal logging for production
# LOG_CONSOLE_FORMAT=json  # JSON for Grafana Alloy/Loki

# ============================================
# RATE LIMITING (Production defaults)
# ============================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=60
# RATE_LIMIT_FAIL_MODE=closed  # Fail closed: deny when Redis down
WS_MAX_CONNECTIONS_PER_USER=5
WS_MESSAGE_RATE_LIMIT=100

# ============================================
# PROFILING (Production defaults)
# ============================================
# PROFILING_ENABLED=false  # Disabled in production by default

# ============================================
# AUDIT LOGGING
# ============================================
AUDIT_LOG_ENABLED=true
AUDIT_LOG_RETENTION_DAYS=365
AUDIT_QUEUE_MAX_SIZE=10000
