from app.api.ws.constants import PkgID, RSPCode
from app.api.ws.validation import validator
from app.logging import logger
from app.routing import pkg_router
from app.schemas.generic_typing import JsonSchemaType
from app.schemas.request import RequestModel
from app.schemas.response import ResponseModel


# FIXME: If you need data validation, write json schema here
# filters_schema: JsonSchemaType = {}

@pkg_router.register(
    PkgID.{{ pkg_id }}, json_schema=None, validator_callback=None
)
async def {{ handler_name }}(request: RequestModel):
    try:
        # TODO: Your code goes here...
        pass
    except Exception as ex:
        logger.error(ex)
        return ResponseModel.err_msg(
            request.pkg_id,
            request.req_id,
            msg="Error occured while handler the request",  # FIXME: This is generic error msg if you need custom change it
            status_code=RSPCode.ERROR,
        )
